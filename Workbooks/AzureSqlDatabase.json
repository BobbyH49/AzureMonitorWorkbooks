{
  "version": "Notebook/1.0",
  "items": [
    {
      "type": 1,
      "content": {
        "json": "# Azure SQL Database Performance Monitor\r\n## Not including databases deployed to Elastic Pool"
      },
      "name": "text - Header"
    },
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "crossComponentResources": [
          "{Subscription}"
        ],
        "parameters": [
          {
            "id": "51aa3a9b-14e0-4c22-a60d-abdbf8813f00",
            "version": "KqlParameterItem/1.0",
            "name": "Subscription",
            "type": 6,
            "isRequired": true,
            "multiSelect": true,
            "quote": "'",
            "delimiter": ",",
            "typeSettings": {
              "additionalResourceOptions": [
                "value::all"
              ],
              "includeAll": true,
              "showDefault": false
            },
            "timeContext": {
              "durationMs": 86400000
            },
            "defaultValue": "value::all"
          },
          {
            "id": "6cb303fd-4812-4097-a468-a177d8782913",
            "version": "KqlParameterItem/1.0",
            "name": "ResourceGroup",
            "label": "Resource Group",
            "type": 2,
            "multiSelect": true,
            "quote": "'",
            "delimiter": ",",
            "query": "resourceContainers \r\n| where type == \"microsoft.resources/subscriptions/resourcegroups\"\r\n| join kind = inner (\r\n    resources\r\n    | where type == \"microsoft.sql/servers/databases\"\r\n    | distinct resourceGroup, subscriptionId\r\n) on resourceGroup, subscriptionId\r\n| project resourceGroup\r\n| order by resourceGroup asc",
            "crossComponentResources": [
              "{Subscription}"
            ],
            "typeSettings": {
              "additionalResourceOptions": [
                "value::all"
              ],
              "showDefault": false
            },
            "timeContext": {
              "durationMs": 86400000
            },
            "defaultValue": "value::all",
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources",
            "value": [
              "value::all"
            ]
          },
          {
            "id": "608c66cd-f3a8-45fe-98c0-69fb8a0b6d05",
            "version": "KqlParameterItem/1.0",
            "name": "SqlDatabase",
            "label": "SQL Database",
            "type": 5,
            "isRequired": true,
            "multiSelect": true,
            "quote": "'",
            "delimiter": ",",
            "query": "resources\r\n| where tolower(type) == \"microsoft.sql/servers/databases\"\r\n| where resourceGroup in ({ResourceGroup})\r\n| where name != 'master'\r\n| where kind !contains \"pool\"\r\n| project AffectedResource=id, resourceGroup",
            "crossComponentResources": [
              "{Subscription}"
            ],
            "typeSettings": {
              "additionalResourceOptions": [
                "value::all"
              ],
              "showDefault": false
            },
            "timeContext": {
              "durationMs": 86400000
            },
            "defaultValue": "value::all",
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources",
            "value": null
          },
          {
            "id": "2d6f33ef-d1ec-480e-a6d8-3d198f572eaf",
            "version": "KqlParameterItem/1.0",
            "name": "TimeRange",
            "label": "Time Range",
            "type": 4,
            "isRequired": true,
            "value": {
              "durationMs": 86400000
            },
            "typeSettings": {
              "selectableValues": [
                {
                  "durationMs": 300000
                },
                {
                  "durationMs": 900000
                },
                {
                  "durationMs": 1800000
                },
                {
                  "durationMs": 3600000
                },
                {
                  "durationMs": 14400000
                },
                {
                  "durationMs": 43200000
                },
                {
                  "durationMs": 86400000
                },
                {
                  "durationMs": 172800000
                },
                {
                  "durationMs": 259200000
                },
                {
                  "durationMs": 604800000
                },
                {
                  "durationMs": 1209600000
                },
                {
                  "durationMs": 2419200000
                },
                {
                  "durationMs": 2592000000
                },
                {
                  "durationMs": 5184000000
                },
                {
                  "durationMs": 7776000000
                }
              ],
              "allowCustom": true
            }
          }
        ],
        "style": "pills",
        "queryType": 1,
        "resourceType": "microsoft.resourcegraph/resources"
      },
      "name": "parameters - Sql Database"
    },
    {
      "type": 11,
      "content": {
        "version": "LinkItem/1.0",
        "style": "tabs",
        "links": [
          {
            "id": "afcb168c-69af-4cd3-8dc4-448a47c5ce9b",
            "cellValue": "selectedTab",
            "linkTarget": "parameter",
            "linkLabel": "Metrics",
            "subTarget": "MetricsTab",
            "style": "link"
          },
          {
            "id": "f4ff5ae2-8529-413b-8fe1-cf40e15aea3d",
            "cellValue": "selectedTab",
            "linkTarget": "parameter",
            "linkLabel": "Query Store",
            "subTarget": "QueryStoreTab",
            "style": "link"
          }
        ]
      },
      "name": "PageTab"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "resources\r\n| where tolower(type) == 'microsoft.sql/servers/databases'\r\n| where resourceGroup in ({ResourceGroup})\r\n| where id in ({SqlDatabase}) and name != 'master'\r\n| project\r\n    ResourceId = id\r\n    , Region = location\r\n    , tier = tostring(sku.tier)\r\n    , family = tostring(sku.family)\r\n    , dtus = case(kind contains \"vcore\", 0, sku.capacity)\r\n    , vcores = case(kind contains \"vcore\", sku.capacity, 0)\r\n    , status = tostring(properties.status)\r\n    , currentBackupStorageRedundancy = tostring(properties.currentBackupStorageRedundancy)\r\n    , requestedBackupStorageRedundancy = tostring(properties.requestedBackupStorageRedundancy)\r\n    , maintenanceConfigurationId = tostring(properties.maintenanceConfigurationId)\r\n    , zoneRedundant = tostring(properties.zoneRedundant)\r\n    , collation = tostring(properties.catalogCollation)\r\n    , creationDate = tostring(properties.creationDate)\r\n    , earliestRestoreDate = tostring(properties.earliestRestoreDate)\r\n    , maxSizeGB = properties.maxSizeBytes / 1024 / 1024 / 1024\r\n    , readScale = tostring(properties.readScale)\r\n    , isLedgerOn = tostring(properties.isLedgerOn)\r\n    , tags\r\n    , resourceGroup = strcat('/subscriptions/'\r\n    , subscriptionId, '/resourceGroups/', resourceGroup), subscriptionId = strcat('/subscriptions/', subscriptionId)",
        "size": 1,
        "title": "Database Info",
        "showExportToExcel": true,
        "queryType": 1,
        "resourceType": "microsoft.resourcegraph/resources",
        "crossComponentResources": [
          "{Subscription}"
        ],
        "gridSettings": {
          "formatters": [
            {
              "columnMatch": "creationDate",
              "formatter": 6
            },
            {
              "columnMatch": "earliestRestoreDate",
              "formatter": 6
            }
          ]
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        }
      ],
      "name": "query - database details"
    },
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "parameters": [
          {
            "id": "cd40f79f-4159-47d3-a83d-c7fe6ebeb433",
            "version": "KqlParameterItem/1.0",
            "name": "Metric",
            "type": 2,
            "multiSelect": true,
            "quote": "'",
            "delimiter": ",",
            "typeSettings": {
              "additionalResourceOptions": [
                "value::all"
              ],
              "selectAllValue": "",
              "defaultItemsText": "Default Metrics"
            },
            "jsonData": "[\r\n    { \"value\":\"DtuLimit\", \"label\": \"DTU limit\", \"group\": \"DTU\", \"selected\":false},\r\n    { \"value\":\"DtuPercentage\", \"label\": \"DTU percentage\", \"group\": \"DTU\", \"selected\":false},\r\n    { \"value\":\"DtuUsed\", \"label\": \"DTU used\", \"group\": \"DTU\", \"selected\":false},\r\n    { \"value\":\"CpuLimit\", \"label\": \"CPU limit\", \"group\": \"CPU\", \"selected\":false},\r\n    { \"value\":\"CpuPercentage\", \"label\": \"CPU percentage\", \"group\": \"CPU\", \"selected\":true},\r\n    { \"value\":\"CpuUsed\", \"label\": \"CPU used\", \"group\": \"CPU\", \"selected\":false},\r\n    { \"value\":\"SqlInstanceCpuPercent\", \"label\": \"SQL instance CPU percent\", \"group\": \"CPU\", \"selected\":true},\r\n    { \"value\":\"WorkersPercentage\", \"label\": \"Workers percentage\", \"group\": \"CPU\", \"selected\":false},\r\n    { \"value\":\"SqlInstanceMemoryPercent\", \"label\": \"SQL instance memory percent\", \"group\": \"Memory\", \"selected\":true},\r\n    { \"value\":\"InMemoryOltpStoragePercent\", \"label\": \"In-Memory OLTP storage percent\", \"group\": \"Memory\", \"selected\":true},\r\n    { \"value\":\"DataIoPercentage\", \"label\": \"Data IO percentage\", \"group\": \"Data IO\", \"selected\":true},\r\n    { \"value\":\"DataSpaceAllocated\", \"label\": \"Data space allocated\", \"group\": \"Data IO\", \"selected\":true},\r\n    { \"value\":\"DataSpaceUsedValue\", \"label\": \"Data space used\", \"group\": \"Data IO\", \"selected\":true},\r\n    { \"value\":\"DataSpaceUsedPercent\", \"label\": \"Data space used percent\", \"group\": \"Data IO\", \"selected\":true},\r\n    { \"value\":\"LogIoPercentage\", \"label\": \"Log IO percentage\", \"group\": \"Log IO\", \"selected\":true},\r\n    { \"value\":\"Deadlocks\", \"label\": \"Deadlocks\", \"group\": \"Locks\", \"selected\":true},\r\n    { \"value\":\"SessionsCount\", \"label\": \"Sessions count\", \"group\": \"Sessions\", \"selected\":true},\r\n    { \"value\":\"SessionsPercentage\", \"label\": \"Sessions percentage\", \"group\": \"Sessions\", \"selected\":true},\r\n    { \"value\":\"TempdbDataFileSizeKilobytes\", \"label\": \"Tempdb Data File Size Kilobytes\", \"group\": \"Tempdb\", \"selected\":true},\r\n    { \"value\":\"TempdbLogFileSizeKilobytes\", \"label\": \"Tempdb Log File Size Kilobytes\", \"group\": \"Tempdb\", \"selected\":true},\r\n    { \"value\":\"TempdbPercentLogUsed\", \"label\": \"Tempdb Percent Log Used\", \"group\": \"Tempdb\", \"selected\":false},\r\n    { \"value\":\"FullBackupStorageSize\", \"label\": \"Full backup storage size\", \"group\": \"Backups\", \"selected\":false},\r\n    { \"value\":\"DifferentialBackupStorageSize\", \"label\": \"Differential backup storage size\", \"group\": \"Backups\", \"selected\":false},\r\n    { \"value\":\"LogBackupStorageSize\", \"label\": \"Log backup storage size\", \"group\": \"Backups\", \"selected\":false},\r\n    { \"value\":\"SuccessfulLedgerDigestUploads\", \"label\": \"Successful Ledger Digest Uploads\", \"group\": \"Ledger\", \"selected\":false},\r\n    { \"value\":\"FailedLedgerDigestUploads\", \"label\": \"Failed Ledger Digest Uploads\", \"group\": \"Ledger\", \"selected\":false}\r\n]",
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "7f1e8c1d-48db-4f01-a6ff-80621665375d",
            "version": "KqlParameterItem/1.0",
            "name": "DtuLimit",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "DtuLimit",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "737d2f7d-3828-4cd8-9d82-c7df3d30d0ae",
            "version": "KqlParameterItem/1.0",
            "name": "DtuPercentage",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "DtuPercentage",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "fb1a4c5f-13d0-41ef-b2c0-fa5190584904",
            "version": "KqlParameterItem/1.0",
            "name": "DtuUsed",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "DtuUsed",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "3bca890a-251b-4aeb-9d6f-542674e8e6ee",
            "version": "KqlParameterItem/1.0",
            "name": "CpuLimit",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "CpuLimit",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "7ebcf3bc-7556-4f72-9a0d-3129ec6d02b2",
            "version": "KqlParameterItem/1.0",
            "name": "CpuPercentage",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "CpuPercentage",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "41103f69-10e5-44b2-b186-0ad9a79865ca",
            "version": "KqlParameterItem/1.0",
            "name": "CpuUsed",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "CpuUsed",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "54084d53-d745-4000-af18-861a7ed26e31",
            "version": "KqlParameterItem/1.0",
            "name": "SqlInstanceCpuPercent",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "SqlInstanceCpuPercent",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "8d9c30bf-7165-4102-a03c-9a911226f177",
            "version": "KqlParameterItem/1.0",
            "name": "WorkersPercentage",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "WorkersPercentage",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "b8829f49-1203-4daf-925e-22c8da1cc79b",
            "version": "KqlParameterItem/1.0",
            "name": "SqlInstanceMemoryPercent",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "SqlInstanceMemoryPercent",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "59a0293d-c50a-4274-8735-d624f012330a",
            "version": "KqlParameterItem/1.0",
            "name": "InMemoryOltpStoragePercent",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "InMemoryOltpStoragePercent",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "039ecb82-9486-4135-8687-4ec54864526f",
            "version": "KqlParameterItem/1.0",
            "name": "DataIoPercentage",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "DataIoPercentage",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "e2666787-c407-4062-b7ff-fa24f5cdfbc2",
            "version": "KqlParameterItem/1.0",
            "name": "DataSpaceAllocated",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "DataSpaceAllocated",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "2a4e5073-52f1-4d0e-834b-e66e364fa4b2",
            "version": "KqlParameterItem/1.0",
            "name": "DataSpaceUsed",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "DataSpaceUsedValue",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "0f050a6d-c0ff-4279-80bf-51ea7da73b0b",
            "version": "KqlParameterItem/1.0",
            "name": "DataSpaceUsedPercent",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "DataSpaceUsedPercent",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "2f5b9230-a773-491f-a9bf-fb1641f2e51b",
            "version": "KqlParameterItem/1.0",
            "name": "LogIoPercentage",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "LogIoPercentage",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "1637a5a7-7e78-4d10-9e21-1804614495a0",
            "version": "KqlParameterItem/1.0",
            "name": "Deadlocks",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "Deadlocks",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "7c465a33-d102-4c14-baad-dfca1da6286b",
            "version": "KqlParameterItem/1.0",
            "name": "SessionsCount",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "SessionsCount",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "c7c95e40-cfb8-4a79-bf70-8e32601cd3cc",
            "version": "KqlParameterItem/1.0",
            "name": "SessionsPercentage",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "SessionsPercentage",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "4e74eb70-09f6-48aa-87fb-953ab8e91dae",
            "version": "KqlParameterItem/1.0",
            "name": "TempdbDataFileSizeKilobytes",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "TempdbDataFileSizeKilobytes",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "83e7d804-bc53-4c9f-b7fd-804c4eab0feb",
            "version": "KqlParameterItem/1.0",
            "name": "TempdbLogFileSizeKilobytes",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "TempdbLogFileSizeKilobytes",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "c0fa76b8-151b-4fdd-b504-a414b65caa17",
            "version": "KqlParameterItem/1.0",
            "name": "TempdbPercentLogUsed",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "TempdbPercentLogUsed",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "FullBackupStorageSize",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "FullBackupStorageSize",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            },
            "id": "0019deda-9a7f-4fa9-ac56-2c81032937c7"
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "DifferentialBackupStorageSize",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "DifferentialBackupStorageSize",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            },
            "id": "502dc1ca-cced-48f1-9606-996890ad901c"
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "LogBackupStorageSize",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "LogBackupStorageSize",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            },
            "id": "30d47c8b-8b6c-403b-a2d9-35f4f6d48046"
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "SuccessfulLedgerDigestUploads",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "SuccessfulLedgerDigestUploads",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            },
            "id": "e13b4e86-d89b-43ca-b562-8c90beeaa763"
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "FailedLedgerDigestUploads",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "Metric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "FailedLedgerDigestUploads",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            },
            "id": "603bb7e6-c095-4727-95aa-4e5bff77d53e"
          }
        ],
        "style": "pills",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces"
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        }
      ],
      "name": "parameters - Metrics"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-dtu_limit",
            "aggregation": 4,
            "columnName": "DtuLimit"
          }
        ],
        "title": "DTU limit",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "DtuLimit",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgDtuLimit"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-dtu_consumption_percent",
            "aggregation": 4,
            "columnName": "DtuPct"
          }
        ],
        "title": "DTU percentage",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "DtuPercentage",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgDtuPercentage"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-dtu_used",
            "aggregation": 4,
            "columnName": "DtuUsed"
          }
        ],
        "title": "DTU used",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "DtuUsed",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgDtuUsed"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-cpu_limit",
            "aggregation": 4,
            "columnName": "CpuLimit"
          }
        ],
        "title": "CPU limit",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "CpuLimit",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgCpuLimit"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-cpu_percent",
            "aggregation": 4,
            "columnName": "CpuPct"
          }
        ],
        "title": "CPU percentage",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "CpuPercentage",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgCpuPct"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-cpu_used",
            "aggregation": 4,
            "columnName": "CpuUsed"
          }
        ],
        "title": "CPU used",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "CpuUsed",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgCpuUsed"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-InstanceAndAppAdvanced-sql_instance_cpu_percent",
            "aggregation": 4,
            "columnName": "CpuPct"
          }
        ],
        "title": "SQL instance CPU percent",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "SqlInstanceCpuPercent",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgSqlInstCpuPct"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-workers_percent",
            "aggregation": 4,
            "columnName": "WorkersPct"
          }
        ],
        "title": "Workers percentage",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "WorkersPercentage",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgWorkersPercentage"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-InstanceAndAppAdvanced-sql_instance_memory_percent",
            "aggregation": 4,
            "columnName": "MemoryPct"
          }
        ],
        "title": "Sql instance memory percent",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "SqlInstanceMemoryPercent",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgSqlInstMemoryPct"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-xtp_storage_percent",
            "aggregation": 4,
            "columnName": "InMemoryPct"
          }
        ],
        "title": "In-Memory OLTP storage percent",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "InMemoryOltpStoragePercent",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgInMemoryOltpStoragePercent"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-physical_data_read_percent",
            "aggregation": 4,
            "columnName": "DataIOPct"
          }
        ],
        "title": "Data IO percentage",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "DataIoPercentage",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgDataIoPercentage"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-allocated_data_storage",
            "aggregation": 4,
            "columnName": "DataAllocated"
          }
        ],
        "title": "Data space allocated",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "DataSpaceAllocated",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgDataSpaceAllocated"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-storage",
            "aggregation": 4,
            "columnName": "DataSpaceUsed"
          }
        ],
        "title": "Data space used",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "DataSpaceUsed",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgDataSpaceUsed"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-storage_percent",
            "aggregation": 4,
            "columnName": "DataUsedPct"
          }
        ],
        "title": "Data space used percent",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "DataSpaceUsedPercent",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgDataSpaceUsedPercent"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-log_write_percent",
            "aggregation": 4,
            "columnName": "LogIOPct"
          }
        ],
        "title": "Log IO Percentage",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "LogIoPercentage",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgLogIoPercentage"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-deadlock",
            "aggregation": 1,
            "columnName": "Deadlocks"
          }
        ],
        "title": "Deadlocks",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "Deadlocks",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - TotalDeadlocks"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-sessions_count",
            "aggregation": 4,
            "columnName": "SessionsCount"
          }
        ],
        "title": "Sessions count",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "SessionsCount",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgSessionsCount"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-sessions_percent",
            "aggregation": 4,
            "columnName": "SessionsPct"
          }
        ],
        "title": "Sessions percentage",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "SessionsPercentage",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgSessionsPercentage"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-InstanceAndAppAdvanced-tempdb_data_size",
            "aggregation": 4,
            "columnName": "DataSizeKB"
          }
        ],
        "title": "Tempdb Data File Size Kilobytes",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "TempdbDataFileSizeKilobytes",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgTempdbDataFileSizeKilobytes"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-InstanceAndAppAdvanced-tempdb_log_size",
            "aggregation": 4,
            "columnName": "LogSizeKB"
          }
        ],
        "title": "Tempdb Log File Size Kilobytes",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "TempdbLogFileSizeKilobytes",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgTempdbLogFileSizeKilobytes"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-InstanceAndAppAdvanced-tempdb_log_used_percent",
            "aggregation": 4,
            "columnName": "LogUsedPct"
          }
        ],
        "title": "Tempdb Percent Log Used",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "TempdbPercentLogUsed",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - AvgTempdbPercentLogUsed"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-full_backup_size_bytes",
            "aggregation": 3,
            "columnName": "FullBackupSize"
          }
        ],
        "title": "Full backup storage size",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "FullBackupStorageSize",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - MaxFullBackupStorageSize"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-diff_backup_size_bytes",
            "aggregation": 3,
            "columnName": "DiffBackupSize"
          }
        ],
        "title": "Differential backup storage size",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "DifferentialBackupStorageSize",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - MaxDiffBackupStorageSize"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-log_backup_size_bytes",
            "aggregation": 3,
            "columnName": "LogBackupSize"
          }
        ],
        "title": "Log backup storage size",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "LogBackupStorageSize",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - MaxLogBackupStorageSize"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-ledger_digest_upload_success",
            "aggregation": 7,
            "columnName": "SuccessfulUploads"
          }
        ],
        "title": "Successful Ledger Digest Uploads",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "SuccessfulLedgerDigestUploads",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - CountSuccessfulLedgerDigestUploads"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workbook4d373e23-a23c-4f5a-99ea-e02c3d361741",
        "version": "MetricsItem/2.0",
        "size": 0,
        "chartType": 2,
        "resourceType": "microsoft.sql/servers/databases",
        "metricScope": 0,
        "resourceParameter": "SqlDatabase",
        "resourceIds": [
          "{SqlDatabase}"
        ],
        "timeContextFromParameter": "TimeRange",
        "timeContext": {
          "durationMs": 86400000
        },
        "metrics": [
          {
            "namespace": "microsoft.sql/servers/databases",
            "metric": "microsoft.sql/servers/databases-Basic-ledger_digest_upload_failed",
            "aggregation": 7,
            "columnName": "FailedUploads"
          }
        ],
        "title": "Failed Ledger Digest Uploads",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "MetricsTab"
        },
        {
          "parameterName": "FailedLedgerDigestUploads",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "metrics - CountFailedLedgerDigestUploads"
    },
    {
      "type": 1,
      "content": {
        "json": "### To review Query Store metrics you will need to point to the Log Analytics Workspace that is capturing the Query Store diagnostic settings"
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        }
      ],
      "name": "text - Log Analytics"
    },
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "crossComponentResources": [
          "{SubscriptionLA}"
        ],
        "parameters": [
          {
            "id": "51aa3a9b-14e0-4c22-a60d-abdbf8813f00",
            "version": "KqlParameterItem/1.0",
            "name": "SubscriptionLA",
            "label": "Subscription",
            "type": 6,
            "isRequired": true,
            "multiSelect": true,
            "quote": "'",
            "delimiter": ",",
            "typeSettings": {
              "additionalResourceOptions": [
                "value::all"
              ],
              "includeAll": true,
              "showDefault": false
            },
            "timeContext": {
              "durationMs": 86400000
            },
            "defaultValue": "value::all"
          },
          {
            "id": "6cb303fd-4812-4097-a468-a177d8782913",
            "version": "KqlParameterItem/1.0",
            "name": "ResourceGroupLA",
            "label": "Resource Group",
            "type": 2,
            "multiSelect": true,
            "quote": "'",
            "delimiter": ",",
            "query": "resourceContainers \r\n| where type == \"microsoft.resources/subscriptions/resourcegroups\"\r\n| join kind = inner (\r\n    resources\r\n    | where type == \"microsoft.operationalinsights/workspaces\"\r\n    | distinct resourceGroup, subscriptionId\r\n) on resourceGroup, subscriptionId\r\n| project resourceGroup\r\n| order by resourceGroup asc",
            "crossComponentResources": [
              "{SubscriptionLA}"
            ],
            "typeSettings": {
              "additionalResourceOptions": [
                "value::all"
              ],
              "showDefault": false
            },
            "timeContext": {
              "durationMs": 86400000
            },
            "defaultValue": "value::all",
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources",
            "value": [
              "value::all"
            ]
          },
          {
            "id": "608c66cd-f3a8-45fe-98c0-69fb8a0b6d05",
            "version": "KqlParameterItem/1.0",
            "name": "LogAnalytics",
            "label": "Log Analytics Workspace",
            "type": 5,
            "query": "resources\r\n| where tolower(type) == \"microsoft.operationalinsights/workspaces\"\r\n| where resourceGroup in ({ResourceGroupLA})\r\n| project AffectedResource=id, resourceGroup",
            "crossComponentResources": [
              "{SubscriptionLA}"
            ],
            "typeSettings": {
              "additionalResourceOptions": [],
              "showDefault": false
            },
            "timeContext": {
              "durationMs": 86400000
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources",
            "value": null
          }
        ],
        "style": "pills",
        "queryType": 1,
        "resourceType": "microsoft.resourcegraph/resources"
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        }
      ],
      "name": "parameters - Log Analytics"
    },
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "parameters": [
          {
            "id": "874aae30-b726-49cc-a202-ff38feda01b3",
            "version": "KqlParameterItem/1.0",
            "name": "QSMetric",
            "type": 2,
            "multiSelect": true,
            "quote": "'",
            "delimiter": ",",
            "typeSettings": {
              "additionalResourceOptions": [
                "value::all"
              ],
              "selectAllValue": "",
              "showDefault": false
            },
            "jsonData": "[\r\n    { \"value\":\"DurationMinutes\", \"label\": \"Duration\"},\r\n    { \"value\":\"CpuMinutes\", \"label\": \"CPU\"},\r\n    { \"value\":\"LogicalReadsMB\", \"label\": \"Logical Reads\"},\r\n    { \"value\":\"PhysicalReadsMB\", \"label\": \"Physical Reads\"},\r\n    { \"value\":\"PageServerReadsMB\", \"label\": \"Page Server Reads\"},\r\n    { \"value\":\"LogicalWritesMB\", \"label\": \"Logical Writes\"},\r\n    { \"value\":\"QueryMemoryUsedMB\", \"label\": \"Query Memory Used\"},\r\n    { \"value\":\"LogMBUsed\", \"label\": \"Log Used\"},\r\n    { \"value\":\"WaitTimeMinutes\", \"label\": \"Wait Time\"}\r\n]",
            "timeContext": {
              "durationMs": 86400000
            },
            "value": [
              "value::all"
            ]
          },
          {
            "id": "7d5007f9-b816-451d-bca9-bf2dbd5427e6",
            "version": "KqlParameterItem/1.0",
            "name": "DurationMinutes",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "QSMetric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "DurationMinutes",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "52d0e7e6-9041-40da-b9c9-2d51d7d54fc0",
            "version": "KqlParameterItem/1.0",
            "name": "CpuMinutes",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "QSMetric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "CpuMinutes",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "884b9920-23f2-4281-8c5e-cd215a368bfc",
            "version": "KqlParameterItem/1.0",
            "name": "LogicalReadsMB",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "QSMetric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "LogicalReadsMB",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "b5a60af7-7aab-4014-acd3-1f60b6a23506",
            "version": "KqlParameterItem/1.0",
            "name": "PhysicalReadsMB",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "QSMetric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "PhysicalReadsMB",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "PageServerReadsMB",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "QSMetric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "PageServerReadsMB",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            },
            "id": "8a8e3dbd-6c8f-46f2-9f57-d697238106cd"
          },
          {
            "id": "6d370862-8d8d-43c3-9e03-e93007ff581e",
            "version": "KqlParameterItem/1.0",
            "name": "LogicalWritesMB",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "QSMetric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "LogicalWritesMB",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "4cc30bb5-8920-41a6-a246-cdcda68e7818",
            "version": "KqlParameterItem/1.0",
            "name": "QueryMemoryUsedMB",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "QSMetric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "QueryMemoryUsedMB",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "28d54484-c541-40ed-8faa-ab0b1c3f93e4",
            "version": "KqlParameterItem/1.0",
            "name": "LogMBUsed",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "QSMetric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "LogMBUsed",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "7121a3ae-7da8-4de8-a8b5-a4020b998ca7",
            "version": "KqlParameterItem/1.0",
            "name": "WaitTimeMinutes",
            "type": 1,
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "QSMetric",
                  "operator": "contains",
                  "rightValType": "static",
                  "rightVal": "WaitTimeMinutes",
                  "resultValType": "static",
                  "resultVal": "True"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "False"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          }
        ],
        "style": "pills",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces"
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        }
      ],
      "name": "parameters - Query Store"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId in~({SqlDatabase})\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = strcat(extract(\".+/SERVERS/([^/]+)/.+\", 1, ResourceId), \"/\", extract(\".+/DATABASES/(.+)\", 1, ResourceId)).tolower()\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize DurationMinutes = round(sum(duration_d) / 60000000, 3) by Resource, end_time\r\n| render timechart",
        "size": 0,
        "title": "Duration Minutes",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "DurationMinutes",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "query - Sql Duration"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId in~({SqlDatabase})\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = strcat(extract(\".+/SERVERS/([^/]+)/.+\", 1, ResourceId), \"/\", extract(\".+/DATABASES/(.+)\", 1, ResourceId)).tolower()\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize CpuMinutes = round(sum(cpu_time_d) / 60000000, 3) by Resource, end_time\r\n| render timechart",
        "size": 0,
        "title": "CPU Minutes",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "CpuMinutes",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "query - Sql Cpu"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId in~({SqlDatabase})\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = strcat(extract(\".+/SERVERS/([^/]+)/.+\", 1, ResourceId), \"/\", extract(\".+/DATABASES/(.+)\", 1, ResourceId)).tolower()\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize LogicalReadsMB = round(sum(logical_io_reads_d) / 128, 3) by Resource, end_time\r\n| render timechart",
        "size": 0,
        "title": "Logical Reads MB",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "LogicalReadsMB",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "query - Sql Logical Reads"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId in~({SqlDatabase})\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = strcat(extract(\".+/SERVERS/([^/]+)/.+\", 1, ResourceId), \"/\", extract(\".+/DATABASES/(.+)\", 1, ResourceId)).tolower()\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize PhysicalReadsMB = round(sum(physical_io_reads_d) / 128, 3) by Resource, end_time\r\n| render timechart",
        "size": 0,
        "title": "Physical Reads MB",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "PhysicalReadsMB",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "query - Sql Physical Reads"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId in~({SqlDatabase})\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = strcat(extract(\".+/SERVERS/([^/]+)/.+\", 1, ResourceId), \"/\", extract(\".+/DATABASES/(.+)\", 1, ResourceId)).tolower()\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize PageServerReadsMB = round(sum(page_server_reads_d) / 128, 3) by Resource, end_time\r\n| render timechart",
        "size": 0,
        "title": "Page Server Reads MB",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "PageServerReadsMB",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "query - Page Server Reads MB"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId in~({SqlDatabase})\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = strcat(extract(\".+/SERVERS/([^/]+)/.+\", 1, ResourceId), \"/\", extract(\".+/DATABASES/(.+)\", 1, ResourceId)).tolower()\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize LogicalWritesMB = round(sum(logical_io_writes_d) / 128, 3) by Resource, end_time\r\n| render timechart",
        "size": 0,
        "title": "Logical Writes MB",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "LogicalWritesMB",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "query - Sql Logical Writes"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId in~({SqlDatabase})\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = strcat(extract(\".+/SERVERS/([^/]+)/.+\", 1, ResourceId), \"/\", extract(\".+/DATABASES/(.+)\", 1, ResourceId)).tolower()\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize QueryMemoryUsedMB = round(sum(query_max_used_memory_d / count_executions_d) / 128, 3) by Resource, end_time\r\n| render timechart",
        "size": 0,
        "title": "Query Memory Used MB",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "QueryMemoryUsedMB",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "query - Sql Query Max Used Memory MB"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId in~({SqlDatabase})\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = strcat(extract(\".+/SERVERS/([^/]+)/.+\", 1, ResourceId), \"/\", extract(\".+/DATABASES/(.+)\", 1, ResourceId)).tolower()\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize LogMBUsed = round(sum(log_bytes_used_d) / 1024 / 1024, 3) by Resource, end_time\r\n| render timechart",
        "size": 0,
        "title": "Log MB Used",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "LogMBUsed",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "query - Sql Log MB Used"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreWaitStatistics\"\r\n| where _ResourceId in~({SqlDatabase})\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = strcat(extract(\".+/SERVERS/([^/]+)/.+\", 1, ResourceId), \"/\", extract(\".+/DATABASES/(.+)\", 1, ResourceId)).tolower()\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize WaitTimeMinutes = round(sum(total_query_wait_time_ms_d) / 60000, 3) by Resource, end_time\r\n| render timechart",
        "size": 0,
        "title": "Wait Time Minutes",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "WaitTimeMinutes",
          "comparison": "isEqualTo",
          "value": "True"
        }
      ],
      "customWidth": "50",
      "name": "query - Sql Wait TIme Minutes"
    },
    {
      "type": 1,
      "content": {
        "json": "### Click a database to view the worst performing queries"
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        }
      ],
      "name": "text - Query Store Totals"
    },
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "parameters": [
          {
            "id": "4c2109be-6306-4c89-b7a2-e8d4ca4446f5",
            "version": "KqlParameterItem/1.0",
            "name": "SummaryBy",
            "type": 2,
            "isRequired": true,
            "typeSettings": {
              "additionalResourceOptions": [],
              "showDefault": false
            },
            "jsonData": "[\r\n    { \"value\":\"Hash\", \"label\": \"Hash\", \"selected\":true},\r\n    { \"value\":\"Id\", \"label\": \"Id\", \"selected\":false}\r\n]",
            "label": "Summary by"
          },
          {
            "id": "4c2109be-6306-4c89-b7a2-e8d4ca4446f5",
            "version": "KqlParameterItem/1.0",
            "name": "OrderBy",
            "label": "Order by",
            "type": 2,
            "isRequired": true,
            "typeSettings": {
              "additionalResourceOptions": [],
              "showDefault": false
            },
            "jsonData": "[\r\n    { \"value\":\"ExecutionCount\", \"label\": \"Execution Count\", \"selected\":false},\r\n    { \"value\":\"DurationMinutes\", \"label\": \"Duration\", \"selected\":true},\r\n    { \"value\":\"CpuMinutes\", \"label\": \"CPU\", \"selected\":false},\r\n    { \"value\":\"LogicalReadsMB\", \"label\": \"Logical Reads\", \"selected\":false},\r\n    { \"value\":\"PhysicalReadsMB\", \"label\": \"Physical Reads\", \"selected\":false},\r\n    { \"value\":\"PageServerReadsMB\", \"label\": \"Page Server Reads\", \"selected\":false},\r\n    { \"value\":\"LogicalWritesMB\", \"label\": \"Logical Writes\", \"selected\":false},\r\n    { \"value\":\"QueryMemoryUsedMB\", \"label\": \"Query Memory Used\", \"selected\":false},\r\n    { \"value\":\"LogMBUsed\", \"label\": \"Log Used\", \"selected\":false},\r\n    { \"value\":\"WaitTimeMinutes\", \"label\": \"Wait Time\", \"selected\":false}\r\n]"
          }
        ],
        "style": "pills",
        "doNotRunWhenHidden": true,
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces"
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        }
      ],
      "name": "parameters - Worst Performing Queries"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId in~({SqlDatabase})\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = _ResourceId\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize ExecutionCount = sum(count_executions_d), QueryCount = count_distinct(query_id_d), AvgRowcount = round(avg(rowcount_d)), DurationMinutes = round(sum(duration_d) / 60000000, 3), CpuMinutes = round(sum(cpu_time_d) / 60000000, 3), AvgDop = round(avg(dop_d / count_executions_d)), LogicalReadsMB = round(sum(logical_io_reads_d) / 128, 3), PhysicalReadsMB = round(sum(physical_io_reads_d) / 128, 3), PageServerReadsMB = round(sum(page_server_reads_d) / 128, 3), LogicalWritesMB = round(sum(logical_io_writes_d) / 128, 3), QueryMemoryUsedMB = round(sum(query_max_used_memory_d / count_executions_d) / 128, 3), LogMBUsed = round(sum(log_bytes_used_d) / 1024 / 1024, 3) by Resource\r\n| join kind = leftouter (\r\n    AzureDiagnostics\r\n    | where Category  == \"QueryStoreWaitStatistics\"\r\n    | where _ResourceId in~({SqlDatabase})\r\n    | where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n    | extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n    | extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n    | extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n    | extend Resource = _ResourceId\r\n    | where start_time {TimeRange}\r\n    | where end_time {TimeRange}\r\n    | summarize WaitTimeMinutes = round(sum(total_query_wait_time_ms_d) / 60000, 3) by Resource\r\n) on Resource\r\n| project Resource, ExecutionCount, QueryCount, AvgRowcount, DurationMinutes, CpuMinutes, AvgDop, LogicalReadsMB, PhysicalReadsMB, PageServerReadsMB, LogicalWritesMB, QueryMemoryUsedMB, LogMBUsed, WaitTimeMinutes = case(isnull(WaitTimeMinutes), 0.00, WaitTimeMinutes)\r\n| order by {OrderBy} desc",
        "size": 1,
        "title": "Query store totals by database",
        "exportFieldName": "Resource",
        "exportParameterName": "Resource",
        "showExportToExcel": true,
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        }
      ],
      "name": "query - Query Store Totals"
    },
    {
      "type": 1,
      "content": {
        "json": "### Click a query to view the worst performing query plans"
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "Resource",
          "comparison": "isNotEqualTo"
        }
      ],
      "name": "text - Worst Performing Queries"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId == \"{Resource}\"\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = _ResourceId\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize ExecutionCount = sum(count_executions_d), PlanCount = count_distinct(plan_id_d), AvgRowcount = round(avg(rowcount_d)), DurationMinutes = round(sum(duration_d) / 60000000, 3), CpuMinutes = round(sum(cpu_time_d) / 60000000, 3), AvgDop = round(avg(dop_d / count_executions_d)), LogicalReadsMB = round(sum(logical_io_reads_d) / 128, 3), PhysicalReadsMB = round(sum(physical_io_reads_d) / 128, 3), PageServerReadsMB = round(sum(page_server_reads_d) / 128, 3), LogicalWritesMB = round(sum(logical_io_writes_d) / 128, 3), QueryMemoryUsedMB = round(sum(query_max_used_memory_d / count_executions_d) / 128, 3), LogMBUsed = round(sum(log_bytes_used_d) / 1024 / 1024, 3) by Resource, QueryHash = query_hash_s\r\n| join kind = leftouter (\r\n    AzureDiagnostics\r\n    | where Category  == \"QueryStoreWaitStatistics\"\r\n    | where _ResourceId == \"{Resource}\"\r\n    | where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n    | extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n    | extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n    | extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n    | extend Resource = _ResourceId\r\n    | where start_time {TimeRange}\r\n    | where end_time {TimeRange}\r\n    | summarize WaitTimeMinutes = round(sum(total_query_wait_time_ms_d) / 60000, 3) by Resource, QueryHash = query_hash_s\r\n) on Resource, QueryHash\r\n| project Resource, QueryHash, ExecutionCount, PlanCount, AvgRowcount, DurationMinutes, CpuMinutes, AvgDop, LogicalReadsMB, PhysicalReadsMB, PageServerReadsMB, LogicalWritesMB, QueryMemoryUsedMB, LogMBUsed, WaitTimeMinutes = case(isnull(WaitTimeMinutes), 0.00, WaitTimeMinutes)\r\n| order by {OrderBy} desc\r\n| take 25",
        "size": 0,
        "title": "Worst performing queries by QueryHash",
        "exportFieldName": "QueryHash",
        "exportParameterName": "QueryHash",
        "showExportToExcel": true,
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "Resource",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "SummaryBy",
          "comparison": "isEqualTo",
          "value": "Hash"
        }
      ],
      "name": "query - Worst Performing Queries by QueryHash"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId == \"{Resource}\"\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = _ResourceId\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize ExecutionCount = sum(count_executions_d), PlanCount = count_distinct(plan_id_d), AvgRowcount = round(avg(rowcount_d)), DurationMinutes = round(sum(duration_d) / 60000000, 3), CpuMinutes = round(sum(cpu_time_d) / 60000000, 3), AvgDop = round(avg(dop_d / count_executions_d)), LogicalReadsMB = round(sum(logical_io_reads_d) / 128, 3), PhysicalReadsMB = round(sum(physical_io_reads_d) / 128, 3), PageServerReadsMB = round(sum(page_server_reads_d) / 128, 3), LogicalWritesMB = round(sum(logical_io_writes_d) / 128, 3), QueryMemoryUsedMB = round(sum(query_max_used_memory_d / count_executions_d) / 128, 3), LogMBUsed = round(sum(log_bytes_used_d) / 1024 / 1024, 3) by Resource, QueryId = query_id_d\r\n| join kind = leftouter (\r\n    AzureDiagnostics\r\n    | where Category  == \"QueryStoreWaitStatistics\"\r\n    | where _ResourceId == \"{Resource}\"\r\n    | where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n    | extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n    | extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n    | extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n    | extend Resource = _ResourceId\r\n    | where start_time {TimeRange}\r\n    | where end_time {TimeRange}\r\n    | summarize WaitTimeMinutes = round(sum(total_query_wait_time_ms_d) / 60000, 3) by Resource, QueryId = query_id_d\r\n) on Resource, QueryId\r\n| project Resource, QueryId, ExecutionCount, PlanCount, AvgRowcount, DurationMinutes, CpuMinutes, AvgDop, LogicalReadsMB, PhysicalReadsMB, PageServerReadsMB, LogicalWritesMB, QueryMemoryUsedMB, LogMBUsed, WaitTimeMinutes = case(isnull(WaitTimeMinutes), 0.00, WaitTimeMinutes)\r\n| order by {OrderBy} desc\r\n| take 25",
        "size": 0,
        "title": "Worst performing queries by QueryId",
        "exportFieldName": "QueryId",
        "exportParameterName": "QueryId",
        "showExportToExcel": true,
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "Resource",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "SummaryBy",
          "comparison": "isEqualTo",
          "value": "Id"
        }
      ],
      "name": "query - Worst Performing Queries by QueryId"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId == \"{Resource}\"\r\n| where query_hash_s == \"{QueryHash}\"\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = _ResourceId\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize ExecutionCount = sum(count_executions_d), AvgRowcount = round(avg(rowcount_d)), DurationMinutes = round(sum(duration_d) / 60000000, 3), CpuMinutes = round(sum(cpu_time_d) / 60000000, 3), AvgDop = round(avg(dop_d / count_executions_d)), LogicalReadsMB = round(sum(logical_io_reads_d) / 128, 3), PhysicalReadsMB = round(sum(physical_io_reads_d) / 128, 3), PageServerReadsMB = round(sum(page_server_reads_d) / 128, 3), LogicalWritesMB = round(sum(logical_io_writes_d) / 128, 3), QueryMemoryUsedMB = round(sum(query_max_used_memory_d / count_executions_d) / 128, 3), LogMBUsed = round(sum(log_bytes_used_d) / 1024 / 1024, 3) by Resource, QueryHash = query_hash_s, PlanHash = query_plan_hash_s\r\n| join kind = leftouter (\r\n    AzureDiagnostics\r\n    | where Category  == \"QueryStoreWaitStatistics\"\r\n    | where _ResourceId == \"{Resource}\"\r\n    | where query_hash_s == \"{QueryHash}\"\r\n    | where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n    | extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n    | extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n    | extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n    | extend Resource = _ResourceId\r\n    | where start_time {TimeRange}\r\n    | where end_time {TimeRange}\r\n    | summarize WaitTimeMinutes = round(sum(total_query_wait_time_ms_d) / 60000, 3) by Resource, QueryHash = query_hash_s, PlanHash = query_plan_hash_s\r\n) on Resource, QueryHash, PlanHash\r\n| project Resource, QueryHash, PlanHash, ExecutionCount, AvgRowcount, DurationMinutes, CpuMinutes, AvgDop, LogicalReadsMB, PhysicalReadsMB, PageServerReadsMB, LogicalWritesMB, QueryMemoryUsedMB, LogMBUsed, WaitTimeMinutes = case(isnull(WaitTimeMinutes), 0.00, WaitTimeMinutes)\r\n| order by {OrderBy} desc\r\n| take 25",
        "size": 1,
        "title": "Worst performing query plans by PlanHash",
        "showExportToExcel": true,
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "Resource",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "QueryHash",
          "comparison": "isNotEqualTo"
        }
      ],
      "name": "query - Worst Performing Plans by PlanHash"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "AzureDiagnostics\r\n| where Category  == \"QueryStoreRuntimeStatistics\"\r\n| where _ResourceId == \"{Resource}\"\r\n| where query_id_d == \"{QueryId}\"\r\n| where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n| extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n| extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n| extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n| extend Resource = _ResourceId\r\n| where start_time {TimeRange}\r\n| where end_time {TimeRange}\r\n| summarize ExecutionCount = sum(count_executions_d), AvgRowcount = round(avg(rowcount_d)), DurationMinutes = round(sum(duration_d) / 60000000, 3), CpuMinutes = round(sum(cpu_time_d) / 60000000, 3), AvgDop = round(avg(dop_d / count_executions_d)), LogicalReadsMB = round(sum(logical_io_reads_d) / 128, 3), PhysicalReadsMB = round(sum(physical_io_reads_d) / 128, 3), PageServerReadsMB = round(sum(page_server_reads_d) / 128, 3), LogicalWritesMB = round(sum(logical_io_writes_d) / 128, 3), QueryMemoryUsedMB = round(sum(query_max_used_memory_d / count_executions_d) / 128, 3), LogMBUsed = round(sum(log_bytes_used_d) / 1024 / 1024, 3) by Resource, QueryId = query_id_d, PlanId = plan_id_d\r\n| join kind = leftouter (\r\n    AzureDiagnostics\r\n    | where Category  == \"QueryStoreWaitStatistics\"\r\n    | where _ResourceId == \"{Resource}\"\r\n    | where query_id_d == \"{QueryId}\"\r\n    | where TimeGenerated {TimeRange} or TimeGenerated -1h {TimeRange}\r\n    | extend interval_start_time_date = round(interval_start_time_d / 4294967296, 0), interval_end_time_date = round(interval_end_time_d / 4294967296, 0)\r\n    | extend interval_start_time_time = interval_start_time_d - 4294967296 * interval_start_time_date, interval_end_time_time = interval_end_time_d - 4294967296 * interval_end_time_date\r\n    | extend start_time = datetime(1900-1-1) + time(1d) * interval_start_time_date + time(1s) * (interval_start_time_time / 300.0), end_time = datetime(1900-1-1) + time(1d) * interval_end_time_date + time(1s) * (interval_end_time_time / 300.0)\r\n    | extend Resource = _ResourceId\r\n    | where start_time {TimeRange}\r\n    | where end_time {TimeRange}\r\n    | summarize WaitTimeMinutes = round(sum(total_query_wait_time_ms_d) / 60000, 3) by Resource, QueryId = query_id_d, PlanId = plan_id_d\r\n) on Resource, QueryId, PlanId\r\n| project Resource, QueryId, PlanId, ExecutionCount, AvgRowcount, DurationMinutes, CpuMinutes, AvgDop, LogicalReadsMB, PhysicalReadsMB, PageServerReadsMB, LogicalWritesMB, QueryMemoryUsedMB, LogMBUsed, WaitTimeMinutes = case(isnull(WaitTimeMinutes), 0.00, WaitTimeMinutes)\r\n| order by {OrderBy} desc\r\n| take 25",
        "size": 1,
        "title": "Worst performing query plans by PlanId",
        "showExportToExcel": true,
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces",
        "crossComponentResources": [
          "{LogAnalytics}"
        ]
      },
      "conditionalVisibilities": [
        {
          "parameterName": "SqlDatabase",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "selectedTab",
          "comparison": "isEqualTo",
          "value": "QueryStoreTab"
        },
        {
          "parameterName": "LogAnalytics",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "Resource",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "QueryId",
          "comparison": "isNotEqualTo"
        }
      ],
      "name": "query - Worst Performing Plans by PlanId"
    }
  ],
  "fallbackResourceIds": [
    "Azure Monitor"
  ],
  "$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}